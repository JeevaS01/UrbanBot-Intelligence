<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UrbanBot AI | Full Analytics</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style2.css') }}">


    <style>
        :root {
            /* LIGHT THEME VARIABLES */
            --bg-body: #f8fafc;        /* Light Grey Background */
            --bg-card: #ffffff;        /* White Cards */
            --text-main: #0f172a;      /* Dark Text */
            --text-muted: #64748b;     /* Grey Text */
            --primary: #4f46e5;        /* Indigo Purple */
            --success: #10b981;        /* Green */
            --danger: #ef4444;         /* Red */
            --warning: #f59e0b;        /* Orange */
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            padding-top: 100px; /* Space for navbar */
        }

        /* --- YOUR NAVBAR STYLE (ADAPTED FOR LIGHT THEME) --- */
        .navbar {
            position: fixed; top: 0; width: 100%; z-index: 1000;
            background: rgba(255, 255, 255, 0.85); /* White Glass */
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            padding: 15px 0;
        }
        .nav-container { max-width: 1300px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        .nav-logo { font-size: 1.5rem; font-weight: 800; color: var(--primary); }
        .nav-links { display: flex; list-style: none; gap: 25px; margin: 0; padding: 0; }
        .nav-links a { text-decoration: none; color: var(--text-muted); font-weight: 600; font-size: 0.95rem; transition: 0.3s; }
        .nav-links a:hover { color: var(--primary); }

        /* --- DASHBOARD LAYOUT --- */
        .container { max-width: 1300px; margin: 0 auto; padding: 0 20px 60px; }
        
        .header-section { text-align: center; margin-bottom: 50px; }
        .header-section h1 { font-size: 2.5rem; font-weight: 800; margin-bottom: 10px; color: var(--text-main); }
        .header-section p { color: var(--text-muted); font-size: 1.1rem; }

        /* GRID FOR 7 TABLES */
        .analytics-grid { display: flex; flex-direction: column; gap: 40px; }

        /* --- THE CARD STYLE (Matches Screenshot 2) --- */
        .metric-card {
            background: var(--bg-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            padding: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr; /* Chart left, Table right */
            gap: 30px;
            align-items: start;
        }

        /* CARD HEADER (Full Width) */
        .card-header { grid-column: 1 / -1; display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; border-bottom: 1px solid var(--border); padding-bottom: 20px; }
        .card-title h2 { margin: 0; font-size: 1.4rem; color: var(--text-main); }
        .card-title p { margin: 5px 0 0; color: var(--text-muted); font-size: 0.9rem; }
        
        /* METRIC BADGE */
        .total-badge { 
            background: #e0e7ff; color: var(--primary); 
            padding: 8px 16px; border-radius: 50px; 
            font-weight: 700; font-size: 0.9rem; 
        }

        /* CONTENT AREAS */
        .chart-area { height: 300px; background: #fdfdfd; border-radius: 15px; padding: 15px; border: 1px solid #f1f5f9; }
        .table-area { overflow-x: auto; }

        /* TABLE STYLE (Clean Light Theme) */
        table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
        th { text-align: left; padding: 12px; color: var(--text-muted); font-weight: 600; border-bottom: 2px solid var(--border); background: #f8fafc; }
        td { padding: 12px; border-bottom: 1px solid var(--border); color: var(--text-main); font-weight: 500; }
        
        /* STATUS PILLS */
        .status-pill { padding: 4px 10px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
        .status-high { background: #fecaca; color: #b91c1c; } /* Red */
        .status-med { background: #fde68a; color: #b45309; }  /* Yellow */
        .status-low { background: #d1fae5; color: #047857; }  /* Green */
        .status-empty { background: #e2e8f0; color: #475569; } /* Grey */
        @media (max-width: 1024px) {
            .metric-card { grid-template-columns: 1fr; }
        }
        /* KEY METRICS ROW */
.metrics-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 25px;
    margin-bottom: 50px;
}

.kpi-card {
    background: white;
    border-radius: 16px;
    padding: 25px;
    border: 1px solid var(--border);
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    overflow: hidden;
}

.kpi-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.08);
}

/* DECORATIVE SIDE BAR */
.kpi-card::before {
    content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 6px;
}
.kpi-alert::before { background: #ef4444; }   /* Red */
.kpi-aqi::before { background: #10b981; }     /* Green */
.kpi-traffic::before { background: #f59e0b; } /* Orange */
.kpi-sentiment::before { background: #6366f1; } /* Purple */

.kpi-icon {
    width: 45px; height: 45px;
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.5rem; margin-bottom: 15px;
}

.bg-red { background: #fee2e2; color: #ef4444; }
.bg-green { background: #d1fae5; color: #047857; }
.bg-orange { background: #ffedd5; color: #c2410c; }
.bg-purple { background: #e0e7ff; color: #4338ca; }

.kpi-value { font-size: 2.2rem; font-weight: 800; color: var(--text-main); line-height: 1; margin-bottom: 5px; }
.kpi-label { font-size: 0.95rem; color: var(--text-muted); font-weight: 500; }
.kpi-trend { font-size: 0.8rem; font-weight: 700; margin-top: 10px; }
.trend-up { color: #10b981; }
.trend-down { color: #ef4444; }


        /* NAVBAR STYLING */
        .navbar {
            position: fixed;
            top: 0px;
            width: 100%;
            z-index: 1000;
            background:linear-gradient(170deg, rgba(10, 40, 114, 0.593),rgba(135, 138, 139, 0.221), rgba(4, 112, 212, 0.678) );
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding: 15px 0;
            bottom: 800px;
            
        }

        .nav-container {
            max-width: 1250px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            margin-left: 50px;
            
        }

        .nav-logo {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 15px;
            
        }

        .nav-logo span {
            color: var(--primary);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 20px;
            margin-top: 7px;
            margin-left: 200px; 
            margin-bottom: 15px;    
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .hero-title {
        font-family: 'Plus Jakarta Sans', sans-serif;
        font-weight: 800;
        font-size: 3.5rem;
        margin-bottom: 0px;
        letter-spacing: -1.5px;
        
        /* CUSTOM GRADIENT: Deep Night -> Sky Blue -> Electric Purple */
        background: linear-gradient(135deg, #0a2257, #114dad, #1ba9d8);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        display: inline-block;
    }

    /* Dark Horizontal Footer Style */
.modern-footer {
    background: #0f172a; 
    color: #f8fafc;
    padding: 80px 0 30px;
    margin-top: 100px;
    font-family: 'Plus Jakarta Sans', sans-serif;
}

.footer-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 40px;
}

.footer-content-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 50px;
    margin-bottom: 60px;
}

.footer-col {
    flex: 1;
}

/* Centering the Brand Info */
.brand-info {
    flex: 2; 
    display: flex;
    flex-direction: column;
    align-items: center; /* Centers items horizontally */
    text-align: center;  /* Centers text lines */
}

.footer-logo-centered {
    font-size: 1.8rem; /* Slightly larger for emphasis */
    font-weight: 800;
    margin-bottom: 20px;
}

.footer-logo-centered span {
    color: #38bdf8; 
}

.footer-description {
    color: #94a3b8;
    line-height: 1.7;
    font-size: 0.95rem;
    max-width: 450px; /* Increased for better centered look */
}

.footer-label {
    font-size: 1rem;
    font-weight: 700;
    color: #fff;
    margin-bottom: 25px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.footer-nav {
    list-style: none;
    padding: 0;
}

.footer-nav li {
    margin-bottom: 12px;
}

.footer-nav a {
    color: #94a3b8;
    text-decoration: none;
    transition: 0.3s;
    font-size: 0.9rem;
}

.footer-nav a:hover {
    color: #38bdf8;
}

.footer-socials {
    display: flex;
    gap: 20px;
    margin-top: 25px;
}

.footer-socials a {
    text-decoration: none;
    font-size: 1.3rem;
    transition: 0.3s;
}

.footer-socials a:hover {
    transform: translateY(-3px);
}

.footer-bottom-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 30px;
    border-top: 1px solid rgba(148, 163, 184, 0.1);
    font-size: 0.85rem;
    color: #64748b;
}

.heart { color: #ef4444; }
.dev-credits strong { color: #cbd5e1; }

@media (max-width: 992px) {
    .footer-content-row {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }
    .footer-col {
        margin-bottom: 40px;
    }
}

/* Update the card layout to balance the chart and table */
.metric-card {
    display: grid;
    grid-template-columns: 0.8fr 1.2fr; /* Chart takes 40%, Table takes 60% */
    gap: 25px;
    align-items: center; /* Centers chart vertically against the table */
}

/* Constrain the chart area so it doesn't grow too large */
.chart-area {
    position: relative;
    height: 280px !important; /* Fixed height for consistency */
    width: 100%;
    padding: 10px;
}

/* Ensure the table area handles long text (like complaint descriptions) */
.table-area {
    max-height: 350px;
    overflow-y: auto; /* Adds scrollbar if table is long */
    padding-right: 5px;
}

/* Mobile responsiveness: stack them on small screens */
@media (max-width: 900px) {
    .metric-card {
        grid-template-columns: 1fr;
    }
    .chart-area {
        height: 250px !important;
    }
}

    </style>
</head>

<body>

    <nav class="navbar">
    <div class="nav-container">
        <div class="nav-logo">UrbanBot<span>.AI</span></div>
        <ul class="nav-links">
            <li><a href="{{ url_for('intro2') }}">üè† Home</a></li>
            <li><a href="{{ url_for('dashboard') }}">üìä Dashboard</a></li>
            
            <li class="dropdown">
                <a href="#" class="dropbtn">üîç Monitoring <i class="chevron"></i></a>
                <div class="dropdown-content">
                    <a href="{{ url_for('traffic') }}">üö¶ Traffic Detection</a>                  
                    <a href="{{ url_for('accident') }}">üö® Accident Detection</a>
                    <a href="{{ url_for('pothole') }}">üï≥Ô∏è Pothole Detection</a>
                    <a href="{{ url_for('crowd') }}">üë• Crowd Detection</a>
                </div>
            </li>

            <li><a href="{{ url_for('citizen_complaint') }}">üìù Citizen Complaint</a></li>
            <li><a href="{{ url_for('air_quality') }}">üå¨Ô∏è Air Quality</a></li>
            <li><a href="{{ url_for('chat_page') }}">üí¨ Chat With AI</a></li>
            <li><a href="{{ url_for('about_me') }}">üë®‚Äçüíª About Me</a></li>
        </ul>
        <div class="nav-toggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>
    </nav>


    <div class="container">
        
        <div class="header-section" data-aos="fade-down">       
        <h1 class="hero-title">Urban Intelligence Dashboard</h1>
            <p style="color: #64748b;">Real-time monitoring of city infrastructure and environmental health.</p>
        </div>

        <div data-aos="fade-right" style="margin-bottom: 20px; border-left: 4px solid var(--primary); padding-left: 15px;">
            <h2 style="font-size: 1.5rem; margin: 0;">City Pulse Metrics</h2>
            <p style="color: var(--text-muted); margin: 5px 0 0; font-size: 0.9rem;">Live snapshot of critical urban performance indicators.</p>
        </div>

        <div id="loading" style="text-align:center; padding: 40px;">Loading Data Hive... üêù</div>

        <div class="metrics-row" id="metrics-container">
            <div class="kpi-card kpi-alert" data-aos="fade-up" data-aos-delay="0">
                <div class="kpi-icon bg-red">üîî</div>
                <div>
                    <div class="kpi-value" id="kpi-alerts">--</div>
                    <div class="kpi-label">Active System Alerts</div>
                    <div class="kpi-trend trend-down">Needs Attention</div>
                </div>
            </div>
            <div class="kpi-card kpi-traffic" data-aos="fade-up" data-aos-delay="100">
                <div class="kpi-icon bg-orange">üö¶</div>
                <div>
                    <div class="kpi-value" id="kpi-traffic">--</div>
                    <div class="kpi-label">Critical Traffic Zones</div>
                    <div class="kpi-trend trend-down">Currently Congested</div>
                </div>
            </div>
            <div class="kpi-card kpi-aqi" data-aos="fade-up" data-aos-delay="200">
                <div class="kpi-icon bg-green">üå¨Ô∏è</div>
                <div>
                    <div class="kpi-value" id="kpi-aqi">--</div>
                    <div class="kpi-label">Avg. Air Quality (AQI)</div>
                    <div class="kpi-trend trend-up">Moderate Level</div>
                </div>
            </div>
            <div class="kpi-card kpi-sentiment" data-aos="fade-up" data-aos-delay="300">
                <div class="kpi-icon bg-purple">üòä</div>
                <div>
                    <div class="kpi-value" id="kpi-sentiment">--%</div>
                    <div class="kpi-label">Citizen Satisfaction Index</div>
                    <div class="kpi-trend trend-up">Based on recent reports</div>
                </div>
            </div>
        </div>

        <div class="analytics-grid" id="main-grid"></div>
    </div>
<footer class="modern-footer">
    <div class="footer-container">
        <div class="footer-content-row">
            <div class="footer-col brand-info">
                <div class="footer-logo-centered">UrbanBot<span>.AI</span></div>
                <p class="footer-description">
                    Empowering smart cities with real-time AI-driven traffic, Accident, Infrastructure and crowd insights for a safer, smoother urban experience.
                </p>
                <div class="footer-socials">
                    <a href="#">üåê</a>
                    <a href="#">üê¶</a>
                    <a href="#">üíº</a>
                </div>
            </div>

            <div class="footer-col">
                <h4 class="footer-label">Services</h4>
                <ul class="footer-nav">
                    <li><a href="#">Analysis (Traffic,Accident,Infrastructure)</a></li>
                    <li><a href="#">Emergency Alerts</a></li>
                    <li><a href="#">Crowd Monitoring</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h4 class="footer-label">Support</h4>
                <ul class="footer-nav">
                    <li><a href="#">Documentation</a></li>
                    <li><a href="#">System Status</a></li>
                    <li><a href="#">API Reference</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom-bar">
            <div class="copyright">
                ¬© 2026 UrbanBot Intelligence. All Rights Reserved.
            </div>
            <div class="dev-credits">
                Built with <span class="heart"> ‚ù§ </span> by <strong> 91jeevanick@gmail.com</strong>
            </div>
        </div>
    </div>
</footer>



    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 800 });

        const config = {
            "traffic_logs": {
                title: "üö¶ Traffic Flow Analysis",
                desc: "Monitors congestion levels across major city intersections.",
                headers: ["Time", "Area", "Congestion"],
                keys: ["timestamp", "area", "congestion_level"],
                chartType: "bar"
            },
            "pothole_logs": {
                title: "üï≥Ô∏è Pothole Detection",
                desc: "Road surface anomalies correlated with traffic congestion.",
                // CHANGED: Showing Congestion Level instead of Lat/Lon
                headers: ["Time", "City", "Area", "Congestion"],
                keys: ["timestamp", "city", "area", "congestion_level"],
                // CHANGED: From 'line' to 'bar' for categorical comparison
                chartType: "bar" 
            },
            "Accident_logs": {
                title: "üö® Accident Reports",
                desc: "Critical incident logs requiring immediate emergency response.",
                headers: ["Time", "City", "Area", "Severity"],
                keys: ["timestamp", "city", "area", "congestion_level"],
                chartType: "doughnut"
            },
            "Crowd_logs": {
                title: "üë• Crowd Density",
                desc: "Estimates foot traffic and crowd gathering sizes.",
                headers: ["Time", "Location", "Count"],
                keys: ["timestamp", "area", "congestion_level"],
                chartType: "bar"
            },
            "AQI_logs": {
                title: "üå¨Ô∏è Air Quality Index (AQI)",
                desc: "Average AQI levels categorized by health status.",
                headers: ["Time", "City", "AQI", "Status"],
                keys: ["timestamp", "City", "AQI", "AQI_Status"],
                // CHANGED: From 'line' to 'bar' to compare categories (Good vs Poor)
                chartType: "bar"
            },

           
            "Complaint_logs": {
                title: "üìù Citizen Complaints",
                desc: "Sentiment analysis of public grievances.",
                headers: ["Time", "Category", "Sentiment", "Text"],
                keys: ["timestamp", "category", "sentiment", "complaint_text"],
                chartType: "pie"
            },
            "alerts_log": {
                title: "üîî System Alerts",
                desc: "Automated triggers sent to city officials.",
                headers: ["Generated At", "Type", "Severity", "Resolved"],
                keys: ["generated_at", "alert_type", "severity", "resolved"],
                chartType: "bar"
            }
        };


  

        async function loadDashboard() {
            try {
                const response = await fetch('/api/full_dashboard_data');
                const data = await response.json();

                // 1. POPULATE TOP KPI METRICS
                if(data.summary) {
                    document.getElementById('kpi-alerts').innerText = data.summary.active_alerts;
                    document.getElementById('kpi-traffic').innerText = data.summary.critical_traffic;
                    document.getElementById('kpi-aqi').innerText = data.summary.avg_aqi;
                    document.getElementById('kpi-sentiment').innerText = data.summary.sentiment_score + "%";
                }
                
                document.getElementById('loading').style.display = 'none';
                const grid = document.getElementById('main-grid');

                // 2. LOOP THROUGH TABLES IN CONFIG
                for (const [tableName, conf] of Object.entries(config)) {
                    if (!data[tableName]) continue;
                    const tableData = data[tableName];
                    
                    const section = document.createElement('div');
                    section.className = 'metric-card';
                    section.setAttribute('data-aos', 'flip-down');
                    
                    section.innerHTML = `
                        <div class="card-header">
                            <div class="card-title">
                                <h2>${conf.title}</h2>
                                <p>${conf.desc}</p>
                            </div>
                            <div class="total-badge">${tableData.total} Records</div>
                        </div>
                        <div class="chart-area"><canvas id="chart-${tableName}"></canvas></div>
                        <div class="table-area">
                            <table>
                                <thead><tr>${conf.headers.map(h => `<th>${h}</th>`).join('')}</tr></thead>
                                <tbody>
                                    ${tableData.rows.map(row => `
                                        <tr>
                                            ${conf.keys.map(k => {
                                                let val = row[k] || '-';
                                                let style = "";

                                                // --- UPDATED COLOR LOGIC FOR TRAFFIC & STATUS ---
                                                const highAlerts = ['HIGH CROWD','SEVERE ACCIDENT','High', 'Critical', 'Negative', 'HIGH TRAFFIC', 'Hazardous','HIGH POTHOLE'];
                                                const medAlerts = ['MODERATE','MODERATE CROWD','MODERATE ACCIDENT','Medium', 'Moderate', 'Neutral', 'MEDIUM TRAFFIC', 'Normal','MEDIUM POTHOLE'];
                                                const lowAlerts = ['SATISFACTORY','LOW CROWD','Low', 'Positive', 'Safe', 'LOW TRAFFIC', 'Good', 'Yes','LOW POTHOLE'];
                                                const empty = ['EMPTY'];

                                                if(highAlerts.includes(val)) style = "status-pill status-high";
                                                else if(medAlerts.includes(val)) style = "status-pill status-med";
                                                else if(lowAlerts.includes(val)) style = "status-pill status-low";
                                                else if(empty.includes(val)) style = "status-pill status-empty";

                                                return style ? `<td><span class="${style}">${val}</span></td>` : `<td>${val}</td>`;
                                            }).join('')}
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>`;
                    
                    grid.appendChild(section);

                    // --- 3. CHART RENDERING ---
                    const ctx = document.getElementById(`chart-${tableName}`).getContext('2d');
                    let chartConfig = {
                        type: conf.chartType,
                        data: {
                            labels: tableData.labels,
                            datasets: [{
                                label: 'Metrics',
                                data: tableData.values,
                                backgroundColor: ['#4f46e5', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'],
                                borderRadius: 8
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { 
                                legend: { 
                                    display: (conf.chartType === 'pie' || conf.chartType === 'doughnut' || tableName === "AQI_logs"), 
                                    position: 'bottom' 
                                } 
                            }
                        }
                    };

                    // --- SPECIAL CASE: AQI STACKED AREA CHART ---
                    if (tableName === "AQI_logs" && tableData.timestamps) {
                        chartConfig.type = 'line';
                        chartConfig.data = {
                            labels: tableData.timestamps,
                            datasets: [
                                { 
                                    label: 'PM2.5', data: tableData.pm25, fill: true, 
                                    backgroundColor: 'rgba(79, 70, 229, 0.3)', borderColor: '#4f46e5', tension: 0.4 
                                },
                                { 
                                    label: 'CO', data: tableData.co, fill: true, 
                                    backgroundColor: 'rgba(16, 185, 129, 0.3)', borderColor: '#10b981', tension: 0.4 
                                },
                                { 
                                    label: 'NO', data: tableData.no, fill: true, 
                                    backgroundColor: 'rgba(239, 68, 68, 0.3)', borderColor: '#ef4444', tension: 0.4 
                                }
                            ]
                        };
                        chartConfig.options.scales = { 
                            y: { stacked: true, beginAtZero: true }, 
                            x: { stacked: true } 
                        };
                    }

                    new Chart(ctx, chartConfig);
                }
            } catch (err) { 
                console.error("Dashboard Load Error:", err);
                document.getElementById('loading').innerText = "Failed to load dashboard data.";
            }
        }

        // Initialize on load
        loadDashboard();

    </script>
